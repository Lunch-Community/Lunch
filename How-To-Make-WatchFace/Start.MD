# æ ·å¼å¼€å‘æŒ‡å—

Launcherå…·æœ‰é«˜åº¦è‡ªå®šä¹‰çš„ç‰¹æ€§\
ç°åœ¨è®©æˆ‘ä»¬æ¥å­¦ä¹ æ ·å¼çš„å¼€å‘

## è¦æ±‚
- ä¸€å°èƒ½å¤Ÿæµç•…è¿è¡Œ[Android Studio](https://developer.android.google.cn/studio?hl=zh-cn)çš„ç”µè„‘
- æˆ–è€…ä¸€å°èƒ½å¤Ÿè¿è¡Œ[AndroidIDE](https://m.androidide.com/)çš„æ‰‹æœº

## å¼€å§‹ä¹‹å‰
Launcherçš„æ ·å¼ç³»ç»ŸåŸºäºAndroid Viewå®ç°\
è¿™éœ€è¦æ‚¨æ‹¥æœ‰Androidå¼€å‘åŸºç¡€\
è‹¥æ‚¨è¿˜æ˜¯ä¸€ä¸ªAndroidå¼€å‘å°ç™½ æµè§ˆæœ¬ç¯‡æ–‡ç« æ—¶å¯èƒ½ä¼šæ¯”è¾ƒåƒåŠ›

## åˆ›å»ºé¡¹ç›®
æ‰“å¼€æ‚¨çš„IDEï¼Œåˆ›å»ºä¸€ä¸ªAndroidåº”ç”¨é¡¹ç›®\
æ‚¨å¯ä»¥è‡ªç”±é…ç½®æ‚¨çš„åº”ç”¨åŒ…åç­‰ä¿¡æ¯\
é™å¾…Gradle Syncå®Œæˆ...\
æ­å–œğŸ‰æ‚¨å·²ç»æˆåŠŸåˆ›å»ºäº†æ‚¨çš„ç¬¬ä¸€ä¸ªæ ·å¼é¡¹ç›®

## é…ç½®æ ·å¼å¿…è¦ä¿¡æ¯
åœ¨Gradleä¸­å¼•å…¥æ ·å¼åº“,è®°å¾—å¼•å…¥å®ŒSyncä¸€ä¸‹\
`build.gradle.kts`
```kotlin
...
dependencies {
    ...
    implementation(files("./libs/watchface-dev-utils.aar"))
    implementation("com.blankj:utilcodex:1.31.1")
}
...
```
æ¥ä¸‹æ¥åœ¨app/src/main/java/<packageName>ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼Œåå­—éšæ„ï¼Œè¿™é‡Œä½¿ç”¨`WatchFaceImpl`\
`WatchFaceImpl.java`
```java
public class WatchFaceImpl extends WatchFace {
    /**
    * æ³¨æ„ä¸€å®šè¦æ·»åŠ è¿™ä¸ªå•å‚æ•°çš„æ„é€ æ–¹æ³•
    * è¿™ä¸ªæ„é€ æ–¹æ³•ç”¨äºå¯åŠ¨å™¨åˆ›å»ºæ ·å¼
    */
    public WatchFaceImpl(Context context){  
        super(context);
    }
}
```
è¿™é‡Œæˆ‘ä»¬è®©WatchFaceImplç»§æ‰¿è‡ªWatchFaceè¿™ä¸ªç±»ï¼Œè¿™ä¸ªç±»å°†ä¼šåœ¨åæ–‡è¿›è¡Œè§£é‡Šï¼Œè¿™é‡Œä¸è¿‡å¤šèµ˜è¿°\
æ¥ä¸‹æ¥åœ¨AndroidManifest.xmlä¸­æ·»åŠ å¦‚ä¸‹ä»£ç \
`AndroidManifest.xml`
```xml
<?xml version="1.0" encoding="utf-8"?>
<manifest
    ...>

    <application
        ...>
        <activity
            android:name=".StubActivity"
            android:exported="true">
            <!--è¿™ä¸ªActivityå£°æ˜ä»…ä½œå ä½ç”¨ï¼Œå¯ä¸åˆ›å»ºï¼Œä»…ç”¨äºå¯åŠ¨å™¨å¯»æ‰¾æ ·å¼-->
            <intent-filter>
                <action
                    android:name="com.lazytong.launcher.WATCHFACE" />
                <category
                    android:name="android.intent.category.DEFAULT" />
            </intent-filter>
        </activity>
    </application>
    ...
</manifest>
```
æœ€ååˆ›å»ºapp/src/main/res/xml/watchface_config.xmlæ·»åŠ å¦‚ä¸‹ä»£ç \
`watchface_config.xml`
```xml
<config
    <!--æ ·å¼çš„é¢„è§ˆå›¾ç‰‡-->
    preview="@drawable/preview"
    <!--æ ·å¼çš„åç§°-->
    name="<watchFaceName>"
    <!--æ ·å¼å…¥å£ç±»-->
    watchface="<åŒ…å>.WatchFaceImpl"
    <!--æ ·å¼è®¾ç½®Activity(è¿™é‡Œå…ˆä¸è®¾ç½®)-->
    settings_activity=""
/>
```
## å°ç»“
åˆ°è¿™é‡Œä½ å·²ç»æ­å»ºå¥½äº†æ ·å¼é¡¹ç›®çš„åŸºæœ¬æ¡†æ¶

<br />
<p
    align="right">ä¸‹ä¸€æ­¥ï¼š
</p>
<div align="right" >
<a href="">ä½¿ç”¨Viewæ„å»ºæ‚¨çš„æ ·å¼</a>
<br />
<a href="">ä½¿ç”¨Canvasæ„å»ºæ‚¨çš„æ ·å¼</a>
</div>